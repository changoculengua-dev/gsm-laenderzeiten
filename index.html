<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>GSM Länderzeiten</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --gu-yellow: #ffd200;
      --gu-dark: #0b1120;
      --gu-darker: #020617;
      --gu-border: #1f2933;
      --night-bg: #020b1f;
      --night-border: #1e3a8a;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--gu-dark);
      color: #e5e7eb;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 12px;
    }

    .shell {
      width: 100%;
      max-width: 2000px;
      background: var(--gu-darker);
      border-radius: 20px;
      border: 1px solid var(--gu-border);
      box-shadow: 0 18px 45px rgba(0,0,0,.6);
      overflow: hidden;
    }

    /* ================= HEADER ================= */
    header {
      background: #fff;
      border-bottom: 4px solid var(--gu-yellow);
      padding: 14px 18px;
    }

    .header-inner {
      display: flex;
      align-items: center;
      gap: 16px;
      width: 100%;
    }

    .header-logo img {
      height: 36px;
      width: auto;
      display: block;
    }

    .header-text {
      display: flex;
      flex-direction: column;
    }

    .header-title {
      font-size: 1.3rem;
      font-weight: 800;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: #111827;
    }

    .header-sub {
      font-size: .8rem;
      color: #4b5563;
    }

    .header-clock {
      margin-left: auto;
      text-align: right;
    }

    .header-clock-label {
      font-size: .65rem;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: #6b7280;
    }

    .header-clock-time {
      font-size: 1.8rem;
      font-weight: 800;
      color: #111827;
      font-variant-numeric: tabular-nums;
    }

    /* ================= MAIN ================= */
    main {
      padding: 18px;
      display: flex;
      flex-direction: column;
      gap: 22px;
    }

    .continent-section {
      border-radius: 16px;
      background: radial-gradient(circle at top left, #111827, #020617 60%);
      border: 1px solid rgba(148,163,184,.25);
      padding: 14px;
    }

    .continent-header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(55,65,81,.9);
      margin-bottom: 10px;
    }

    .continent-badge {
      width: 8px;
      height: 22px;
      border-radius: 999px;
      background: var(--gu-yellow);
    }

    .continent-title {
      font-size: .9rem;
      font-weight: 700;
      letter-spacing: .12em;
      text-transform: uppercase;
    }

    .city-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
    }

    .city-card {
      background: #020617;
      border-radius: 14px;
      padding: 14px;
      border: 1px solid rgba(31,41,55,.9);
      box-shadow: 0 8px 20px rgba(0,0,0,.6);
    }

    .city-card.night {
      background: var(--night-bg);
      border-color: var(--night-border);
    }

    .city-name {
      font-size: .95rem;
      font-weight: 600;
    }

    .city-time {
      font-size: 1.6rem;
      font-weight: 700;
      margin-top: 6px;
      font-variant-numeric: tabular-nums;
    }

    .city-meta {
      font-size: .75rem;
      color: #9ca3af;
      margin-top: 4px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .footer {
      padding: 12px 18px 16px;
      font-size: .7rem;
      color: #6b7280;
      text-align: right;
    }

    /* ================= MOBILE: schmaler & zentriert ================= */
    @media (max-width: 768px) {
      body { padding: 8px; }

      .shell {
        border-radius: 14px;
      }

      /* zentraler "Leseblock" auf Mobile, damit nix zu breit wirkt */
      header, main, .footer {
        max-width: 420px;
        margin-left: auto;
        margin-right: auto;
      }

      header { padding: 12px 12px; }
      main { padding: 12px; gap: 16px; }
      .continent-section { padding: 12px; }

      .header-inner {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        text-align: center;
      }

      /* Logo: NICHT nach Höhe, sondern nach Breite begrenzen */
      .header-logo img {
        height: auto;
        width: 100%;
        max-width: 260px;
        object-fit: contain;
      }

      .header-clock {
        margin-left: 0;
        text-align: center;
      }

      .header-clock-time { font-size: 1.6rem; }

      .city-grid {
        grid-template-columns: 1fr; /* genau 1 Spalte */
      }

      .city-card {
        padding: 14px;
      }

      .footer { text-align: center; }
    }

    /* sehr kleine Geräte */
    @media (max-width: 360px) {
      header, main, .footer { max-width: 340px; }
      .header-title { font-size: 1.1rem; }
      .header-clock-time { font-size: 1.45rem; }
      .city-time { font-size: 1.45rem; }
    }
  </style>
</head>

<body>
<div class="shell">

<header>
  <div class="header-inner">
    <div class="header-logo">
      <img src="Logo.webp" alt="Gühring Logo">
    </div>

    <div class="header-text">
      <div class="header-title">GSM Länderzeiten</div>
      <div class="header-sub">Globale Zeitzonenübersicht</div>
    </div>

    <div class="header-clock">
      <div class="header-clock-label">Lokale Zeit · Regensburg</div>
      <div class="header-clock-time" id="local-time">--:--:--</div>
    </div>
  </div>
</header>

<main>
  <section class="continent-section">
    <div class="continent-header">
      <div class="continent-badge"></div>
      <div class="continent-title">Europa</div>
    </div>
    <div class="city-grid" id="grid-europa"></div>
  </section>

  <section class="continent-section">
    <div class="continent-header">
      <div class="continent-badge"></div>
      <div class="continent-title">Amerika</div>
    </div>
    <div class="city-grid" id="grid-amerika"></div>
  </section>

  <section class="continent-section">
    <div class="continent-header">
      <div class="continent-badge"></div>
      <div class="continent-title">Asien</div>
    </div>
    <div class="city-grid" id="grid-asien"></div>
  </section>
</main>

<div class="footer">GSM Länderzeiten · internes Dashboard</div>

</div>

<script>
const localTZ="Europe/Berlin";

const cities=[
  {name:"Ancenis",tz:"Europe/Paris",lat:47.366,lon:-1.175,cont:"Europa"},
  {name:"Getafe",tz:"Europe/Madrid",lat:40.308,lon:-3.732,cont:"Europa"},
  {name:"Lidköping",tz:"Europe/Stockholm",lat:58.505,lon:13.157,cont:"Europa"},
  {name:"Mailand",tz:"Europe/Rome",lat:45.464,lon:9.19,cont:"Europa"},
  {name:"Wien",tz:"Europe/Vienna",lat:48.208,lon:16.373,cont:"Europa"},
  {name:"Belgrad",tz:"Europe/Belgrade",lat:44.787,lon:20.457,cont:"Europa"},
  {name:"Birmingham",tz:"Europe/London",lat:52.486,lon:-1.89,cont:"Europa"},

  {name:"Brookfield",tz:"America/Chicago",lat:43.06,lon:-88.106,cont:"Amerika"},
  {name:"Salto",tz:"America/Sao_Paulo",lat:-23.2,lon:-47.286,cont:"Amerika"},

  {name:"Pune",tz:"Asia/Kolkata",lat:18.52,lon:73.856,cont:"Asien"},
  {name:"Südkorea",tz:"Asia/Seoul",lat:37.566,lon:126.978,cont:"Asien"},
  {name:"Thailand",tz:"Asia/Bangkok",lat:13.756,lon:100.502,cont:"Asien"}
];

function grid(cont){ return document.getElementById("grid-"+cont.toLowerCase()); }

function createCards(){
  cities.forEach((c,i)=>{
    c.id="c"+i;
    grid(c.cont).insertAdjacentHTML("beforeend",`
      <div class="city-card" id="${c.id}">
        <div class="city-name">${c.name}</div>
        <div class="city-time">--:--</div>
        <div class="city-meta">
          <span class="offset">±0 h</span>
          <span class="weather">--°C</span>
        </div>
      </div>
    `);
    loadWeather(c);
  });
}

function loadWeather(c){
  fetch(`https://api.open-meteo.com/v1/forecast?latitude=${c.lat}&longitude=${c.lon}&current_weather=true`)
    .then(r=>r.json())
    .then(d=>{
      const w=d.current_weather;
      const el=document.querySelector(`#${c.id} .weather`);
      if(el && w && typeof w.temperature==="number"){
        el.textContent = Math.round(w.temperature) + "°C";
      }
    })
    .catch(()=>{ /* leise failen */ });
}

function updateTimes(){
  const now=new Date();

  document.getElementById("local-time").textContent =
    new Intl.DateTimeFormat("de-DE",{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:localTZ}).format(now);

  const localHour = Number(new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:false,timeZone:localTZ}).format(now));

  cities.forEach(c=>{
    const card=document.getElementById(c.id);
    if(!card) return;

    const timeEl=card.querySelector(".city-time");
    const offEl=card.querySelector(".offset");

    const cityHour = Number(new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:false,timeZone:c.tz}).format(now));

    let diff=cityHour-localHour;
    if(diff>12)diff-=24;
    if(diff<-12)diff+=24;

    offEl.textContent=(diff>0?"+":"")+diff+" h";
    timeEl.textContent=new Intl.DateTimeFormat("de-DE",{hour:"2-digit",minute:"2-digit",timeZone:c.tz}).format(now);

    card.classList.toggle("night", cityHour<6 || cityHour>=18);
  });
}

createCards();
updateTimes();
setInterval(updateTimes,1000);
</script>
</body>
</html>
