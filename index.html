<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>GSM L√§nderzeiten</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --gu-yellow: #ffd200;
      --gu-dark: #0b1120;
      --gu-darker: #020617;
      --gu-border: #1f2933;
      --night-bg: #020b1f;
      --night-border: #1e3a8a;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--gu-dark);
      color: #e5e7eb;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .shell {
      width: 90%;
      max-width: 2000px;
      background: var(--gu-darker);
      border-radius: 24px;
      border: 1px solid var(--gu-border);
      box-shadow: 0 18px 45px rgba(0,0,0,.6);
      overflow: hidden;
    }

    /* HEADER */
    header {
      background: #fff;
      border-bottom: 4px solid var(--gu-yellow);
      padding: 14px 22px;
    }

    .header-inner {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .header-logo img { height: 40px; }

    .header-title {
      font-size: 1.4rem;
      font-weight: 800;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: #111827;
    }

    .header-sub {
      font-size: .85rem;
      color: #4b5563;
    }

    .header-clock {
      margin-left: auto;
      text-align: right;
    }

    .header-clock-label {
      font-size: .7rem;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: #6b7280;
    }

    .header-clock-time {
      font-size: 2rem;
      font-weight: 800;
      color: #111827;
      font-variant-numeric: tabular-nums;
    }

    main {
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 28px;
    }

    /* CONTINENTS */
    .continent-section {
      border-radius: 16px;
      background: radial-gradient(circle at top left, #111827, #020617 60%);
      border: 1px solid rgba(148,163,184,.25);
      padding: 14px;
    }

    .continent-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(55,65,81,.9);
      margin-bottom: 12px;
    }

    .continent-badge {
      width: 10px;
      height: 26px;
      border-radius: 999px;
      background: var(--gu-yellow);
    }

    .continent-title {
      font-size: 1rem;
      font-weight: 700;
      letter-spacing: .12em;
      text-transform: uppercase;
    }

    .city-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
    }

    /* CITY CARD */
    .city-card {
      background: #020617;
      border-radius: 14px;
      padding: 14px 16px;
      border: 1px solid rgba(31,41,55,.9);
      box-shadow: 0 10px 25px rgba(0,0,0,.6);
      transition: background .3s, border .3s;
    }

    .city-card.night {
      background: var(--night-bg);
      border-color: var(--night-border);
    }

    .city-name {
      font-size: 1rem;
      font-weight: 600;
    }

    .city-time {
      font-size: 1.8rem;
      font-weight: 700;
      margin-top: 6px;
      font-variant-numeric: tabular-nums;
    }

    .city-meta {
      font-size: .75rem;
      color: #9ca3af;
      margin-top: 4px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .footer {
      padding: 14px 22px 18px;
      font-size: .75rem;
      color: #6b7280;
      text-align: right;
    }
  </style>
</head>
<body>
<div class="shell">

<header>
  <div class="header-inner">
    <div class="header-logo">
      <img src="Logo.webp" alt="G√ºhring Logo">
    </div>
    <div>
      <div class="header-title">GSM L√§nderzeiten</div>
      <div class="header-sub">Globale Zeitzonen√ºbersicht</div>
    </div>
    <div class="header-clock">
      <div class="header-clock-label">Lokale Zeit ¬∑ Regensburg</div>
      <div class="header-clock-time" id="local-time">--:--:--</div>
    </div>
  </div>
</header>

<main>
  <section class="continent-section">
    <div class="continent-header">
      <div class="continent-badge"></div>
      <div class="continent-title">Europa</div>
    </div>
    <div class="city-grid" id="grid-europa"></div>
  </section>

  <section class="continent-section">
    <div class="continent-header">
      <div class="continent-badge"></div>
      <div class="continent-title">Amerika</div>
    </div>
    <div class="city-grid" id="grid-amerika"></div>
  </section>

  <section class="continent-section">
    <div class="continent-header">
      <div class="continent-badge"></div>
      <div class="continent-title">Asien</div>
    </div>
    <div class="city-grid" id="grid-asien"></div>
  </section>
</main>

<div class="footer">GSM L√§nderzeiten ¬∑ internes Dashboard</div>
</div>

<script>
const localTZ = "Europe/Berlin";

/* St√§dte inkl. Koordinaten f√ºr Wetter */
const cities = [
  {name:"Ancenis",tz:"Europe/Paris",lat:47.366,lon:-1.175,cont:"Europa"},
  {name:"Getafe",tz:"Europe/Madrid",lat:40.308,lon:-3.732,cont:"Europa"},
  {name:"Lidk√∂ping",tz:"Europe/Stockholm",lat:58.505,lon:13.157,cont:"Europa"},
  {name:"Mailand",tz:"Europe/Rome",lat:45.464,lon:9.190,cont:"Europa"},
  {name:"Wien",tz:"Europe/Vienna",lat:48.208,lon:16.373,cont:"Europa"},
  {name:"Belgrad",tz:"Europe/Belgrade",lat:44.787,lon:20.457,cont:"Europa"},
  {name:"Birmingham",tz:"Europe/London",lat:52.486,lon:-1.890,cont:"Europa"},

  {name:"Brookfield",tz:"America/Chicago",lat:43.060,lon:-88.106,cont:"Amerika"},
  {name:"Salto",tz:"America/Sao_Paulo",lat:-23.200,lon:-47.286,cont:"Amerika"},

  {name:"Pune",tz:"Asia/Kolkata",lat:18.520,lon:73.856,cont:"Asien"},
  {name:"S√ºdkorea",tz:"Asia/Seoul",lat:37.566,lon:126.978,cont:"Asien"},
  {name:"Thailand",tz:"Asia/Bangkok",lat:13.756,lon:100.502,cont:"Asien"}
];

function grid(cont){ return document.getElementById("grid-"+cont.toLowerCase()); }

function weatherIcon(code){
  if(code===0) return "‚òÄÔ∏è";
  if(code<3) return "üå§";
  if(code<50) return "‚òÅÔ∏è";
  if(code<70) return "üåß";
  if(code<90) return "üå©";
  return "‚ùÑÔ∏è";
}

function createCards(){
  cities.forEach((c,i)=>{
    c.id="city-"+i;
    grid(c.cont).insertAdjacentHTML("beforeend",`
      <div class="city-card" id="${c.id}">
        <div class="city-name">${c.name}</div>
        <div class="city-time">--:--</div>
        <div class="city-meta">
          <span class="offset">¬±0h</span>
          <span class="weather">--¬∞C</span>
        </div>
      </div>
    `);
    loadWeather(c);
  });
}

function loadWeather(c){
  fetch(`https://api.open-meteo.com/v1/forecast?latitude=${c.lat}&longitude=${c.lon}&current_weather=true`)
    .then(r=>r.json())
    .then(d=>{
      const w=d.current_weather;
      document.querySelector(`#${c.id} .weather`).textContent =
        `${Math.round(w.temperature)}¬∞C ${weatherIcon(w.weathercode)}`;
    });
}

function updateTimes(){
  const now=new Date();

  document.getElementById("local-time").textContent =
    new Intl.DateTimeFormat("de-DE",{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:localTZ}).format(now);

  cities.forEach(c=>{
    const card=document.getElementById(c.id);
    const timeEl=card.querySelector(".city-time");
    const offsetEl=card.querySelector(".offset");

    const localHour=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:false,timeZone:localTZ}).format(now);
    const cityHour=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:false,timeZone:c.tz}).format(now);

    let diff=cityHour-localHour;
    if(diff>12) diff-=24;
    if(diff<-12) diff+=24;

    offsetEl.textContent=(diff>0?`+${diff}`:diff)+" h";

    timeEl.textContent=new Intl.DateTimeFormat("de-DE",{hour:"2-digit",minute:"2-digit",timeZone:c.tz}).format(now);
    card.classList.toggle("night",cityHour<6||cityHour>=18);
  });
}

createCards();
updateTimes();
setInterval(updateTimes,1000);
</script>
</body>
</html>
